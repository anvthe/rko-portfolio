@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Base Styles */
@layer base {
    html {
        @apply theme-transition scroll-smooth;
    }
    body {
        @apply bg-tiktok-light dark:bg-tiktok-dark theme-transition text-tiktok-text dark:text-white;
        font-family: 'Inter', system-ui, -apple-system, sans-serif;
    }

    /* Custom scrollbar for dark mode */
    @media (prefers-color-scheme: dark) {
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            @apply bg-tiktok-dark;
        }
        ::-webkit-scrollbar-thumb {
            @apply bg-gray-600 rounded-full;
        }
    }
}

/* Custom Components */
@layer components {
    /* ===== TikTok Components ===== */
    .tiktok-video-container {
        @apply relative aspect-vertical max-h-[90vh] w-full mx-auto bg-black overflow-hidden;
    }

    .tiktok-action-button {
        @apply flex flex-col items-center justify-center space-y-1 text-white;
    }

    .tiktok-comment-box {
        @apply absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-800 rounded-t-2xl p-4;
        height: 60vh;
        transition: transform 0.3s ease;
    }

    /* ===== YouTube Components ===== */
    .youtube-video-container {
        @apply relative aspect-horizontal w-full bg-black overflow-hidden;
    }

    .youtube-thumbnail {
        @apply relative aspect-video w-full rounded-xl overflow-hidden;
        transition: transform 0.2s ease;
    }

    .youtube-thumbnail:hover {
        transform: scale(1.03);
    }

    /* ===== Shared Components ===== */
    .video-controls-container {
        @apply absolute bottom-0 left-0 right-0 p-4;
        background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
        transition: opacity 0.3s ease;
    }

    .video-progress-bar {
        @apply absolute bottom-full left-0 right-0 h-1 bg-gray-300 bg-opacity-50;
    }

    .video-progress-indicator {
        @apply h-full bg-tiktok-primary dark:bg-youtube-primary;
    }

    /* Notification System */
    .toast {
        @apply p-4 mb-2 rounded-lg shadow-lg flex items-start max-w-xs;
        @apply border-l-4 border-opacity-90 transform transition-all duration-300;
        animation: toastIn 0.3s ease-out;
    }

    .toast-exit {
        animation: toastOut 0.3s ease-in forwards;
    }

    .toast-success {
        @apply bg-green-100 dark:bg-green-900 border-green-500 text-green-800 dark:text-green-100;
    }

    .toast-error {
        @apply bg-red-100 dark:bg-red-900 border-red-500 text-red-800 dark:text-red-100;
    }

    /* Buttons */
    .primary-button {
        @apply px-6 py-2 rounded-full font-medium text-sm transition-colors duration-200;
    }

    .tiktok-button {
        @apply primary-button bg-tiktok-primary text-white hover:bg-pink-600;
    }

    .youtube-button {
        @apply primary-button bg-youtube-primary text-white hover:bg-red-700;
    }
}

/* Custom Utilities */
@layer utilities {
    /* Scrollbar Utilities */
    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }
    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    /* Text Utilities */
    .text-overflow-1 {
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .text-overflow-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .text-overflow-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* Aspect Ratio Containers */
    .aspect-vertical {
        aspect-ratio: 9/16;
    }

    .aspect-horizontal {
        aspect-ratio: 16/9;
    }

    .aspect-shorts {
        aspect-ratio: 4/5;
    }

    /* Animations */
    .animate-heartbeat {
        animation: heartbeat 1s ease infinite;
    }

    .animate-float {
        animation: float 3s ease-in-out infinite;
    }

    /* Special Effects */
    .blur-backdrop {
        backdrop-filter: blur(10px);
    }

    .text-shadow-sm {
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    }

    .text-shadow-md {
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    }
}

/* Keyframe Animations */
@keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    25% { transform: scale(1.2); }
    50% { transform: scale(1); }
    75% { transform: scale(1.1); }
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

@keyframes toastIn {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

@keyframes toastOut {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(100%); opacity: 0; }
}

@keyframes slideIn {
    from { transform: translateX(100%); }
    to { transform: translateX(0); }
}

@keyframes pulse-slow {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}